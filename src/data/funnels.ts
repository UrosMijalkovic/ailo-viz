import { FunnelData, GlobalPrinciple } from '@/types/funnel';

export const globalPrinciples: GlobalPrinciple[] = [
  {
    id: 'controlled-access',
    title: 'Controlled Access Always',
    description: 'No funnel publicly promises Premium access. Eligibility is implied, never guaranteed.',
    icon: 'üîê',
  },
  {
    id: 'single-qualification',
    title: 'Single Qualification Logic',
    description: 'One scoring model. Different entry points, same decision engine.',
    icon: 'üéØ',
  },
  {
    id: 'never-reject',
    title: 'Never Reject ‚Äî Always Redirect',
    description: 'No "fail". Only: next best step.',
    icon: '‚Ü™Ô∏è',
  },
  {
    id: 'intentional-payment',
    title: 'Payment Is Always Intentional',
    description: 'Either Founder-approved (call), or High-trust warm intro. No impulsive checkout for cold users.',
    icon: 'üí≥',
  },
  {
    id: 'crm-spine',
    title: 'CRM Is the Spine',
    description: 'Every path writes to CRM with: Source, Score, Status, Geography, Next allowed action.',
    icon: 'ü¶¥',
  },
];

export const funnels: FunnelData[] = [
  {
    id: 'funnel-1',
    name: "Haleh's Personal Network",
    shortName: 'Personal Network',
    trustLevel: 'ultra',
    description: 'Ultra-High Trust ‚Äî Warm, 1-to-1, reputation-based access',
    entryType: 'Direct invitation from Haleh',
    keyRules: [
      'No quiz required',
      'No call required',
      'No friction beyond identity confirmation',
      'Trust replaces qualification',
      'Single-use, time-limited links',
    ],
    nodes: [
      {
        id: 'f1-entry',
        label: 'Personal Invitation',
        type: 'entry',
        description: 'Direct invite from Haleh',
        details: ['Single-use link', 'Time-limited', 'CRM-bound'],
      },
      {
        id: 'f1-payment',
        label: 'Payment',
        type: 'action',
        isPayment: true,
        description: 'Invited access payment',
        details: ['Copy emphasizes invited access', 'Not a purchase framing'],
      },
      {
        id: 'f1-auth',
        label: 'Auth Web',
        type: 'action',
        description: 'Identity verification',
        details: ['Email + phone verification', 'CRM tag assignment'],
      },
      {
        id: 'f1-crm',
        label: 'CRM',
        type: 'crm',
        isCRM: true,
        description: 'Record created',
        details: ['SOURCE = Haleh_Personal', 'QUALIFICATION = Trusted', 'CALL_REQUIRED = No'],
      },
      {
        id: 'f1-app',
        label: 'Premium App',
        type: 'outcome',
        isApp: true,
        scoreLevel: 'high',
        description: 'Immediate premium access',
        details: ['Premium unlocked immediately', 'Onboarding assumes high readiness'],
      },
    ],
    connections: [
      { from: 'f1-entry', to: 'f1-payment', label: 'Direct' },
      { from: 'f1-payment', to: 'f1-auth' },
      { from: 'f1-auth', to: 'f1-crm' },
      { from: 'f1-crm', to: 'f1-app' },
    ],
  },
  {
    id: 'funnel-2',
    name: "Haleh's Network Events",
    shortName: 'Events Network',
    trustLevel: 'warm',
    description: 'Warm-ish, but unverified ‚Äî Events and meetings',
    entryType: 'Event or meeting attendee',
    keyRules: [
      'Quiz-based qualification',
      'Score determines path',
      'High score = direct payment, no call needed',
      'Mid score = founder call ‚Üí payment',
      'Low score = nurture only',
    ],
    nodes: [
      {
        id: 'f2-entry',
        label: 'Event Entry',
        type: 'entry',
        description: 'From events/meetings',
      },
      {
        id: 'f2-web',
        label: 'Web',
        type: 'action',
        description: 'Landing page',
      },
      {
        id: 'f2-quiz',
        label: 'Quiz',
        type: 'decision',
        description: 'Qualification quiz',
        details: ['Scoring assessment', 'Determines path'],
      },
      // High score path
      {
        id: 'f2-payment-high',
        label: 'Payment',
        type: 'action',
        isPayment: true,
        scoreLevel: 'high',
        description: 'Direct payment access',
      },
      {
        id: 'f2-auth-high',
        label: 'Auth',
        type: 'action',
        scoreLevel: 'high',
      },
      {
        id: 'f2-app',
        label: 'Premium App',
        type: 'outcome',
        isApp: true,
        description: 'Full access granted',
      },
      // Mid score - Founder Call path
      {
        id: 'f2-call',
        label: 'Founder Call',
        type: 'action',
        scoreLevel: 'mid',
        description: 'Qualification call',
      },
      {
        id: 'f2-payment-call',
        label: 'Payment',
        type: 'action',
        isPayment: true,
        scoreLevel: 'mid',
        description: 'Post-call payment',
      },
      {
        id: 'f2-auth-call',
        label: 'Auth',
        type: 'action',
        scoreLevel: 'mid',
      },
      // Low score path
      {
        id: 'f2-crm-low',
        label: 'CRM Nurture',
        type: 'crm',
        isCRM: true,
        scoreLevel: 'low',
        description: 'No payment shown',
        details: ['No app access', 'Nurture sequence'],
      },
    ],
    connections: [
      { from: 'f2-entry', to: 'f2-web' },
      { from: 'f2-web', to: 'f2-quiz' },
      // High score path
      { from: 'f2-quiz', to: 'f2-payment-high', label: 'High', scoreLevel: 'high' },
      { from: 'f2-payment-high', to: 'f2-auth-high', scoreLevel: 'high' },
      { from: 'f2-auth-high', to: 'f2-app', scoreLevel: 'high' },
      // Mid score - Call path
      { from: 'f2-quiz', to: 'f2-call', label: 'Mid', scoreLevel: 'mid' },
      { from: 'f2-call', to: 'f2-payment-call', scoreLevel: 'mid' },
      { from: 'f2-payment-call', to: 'f2-auth-call', scoreLevel: 'mid' },
      { from: 'f2-auth-call', to: 'f2-app', scoreLevel: 'mid' },
      // Low score path
      { from: 'f2-quiz', to: 'f2-crm-low', label: 'Low', scoreLevel: 'low' },
    ],
  },
  {
    id: 'funnel-3',
    name: 'Paid & Organic Traffic',
    shortName: 'Cold Traffic',
    trustLevel: 'cold',
    description: 'Unknown, must be filtered aggressively ‚Äî Cold ‚Üí Warm ‚Üí Hot',
    entryType: 'Paid ads or organic discovery',
    keyRules: [
      'Aggressive filtering required',
      'HIGH: Call mandatory, then payment',
      'MID: Webinar ‚Üí Call ‚Üí Payment OR Direct (rare)',
      'LOW: CRM only, no premium access',
      'Calendars only visible to approved users',
    ],
    nodes: [
      {
        id: 'f3-entry',
        label: 'Traffic Entry',
        type: 'entry',
        description: 'Paid/Organic traffic',
      },
      {
        id: 'f3-web',
        label: 'Web',
        type: 'action',
        description: 'Landing page',
      },
      {
        id: 'f3-quiz',
        label: 'Quiz',
        type: 'decision',
        description: 'Tiered routing quiz',
      },
      // High score path
      {
        id: 'f3-call-high',
        label: 'Founder Call',
        type: 'action',
        scoreLevel: 'high',
        description: 'Mandatory qualification call',
        details: ['Founder-led or senior closer', 'Gate to payment'],
      },
      {
        id: 'f3-payment-high',
        label: 'Payment',
        type: 'action',
        isPayment: true,
        scoreLevel: 'high',
        description: 'During or after call',
      },
      {
        id: 'f3-auth-high',
        label: 'Auth',
        type: 'action',
        scoreLevel: 'high',
      },
      {
        id: 'f3-app-high',
        label: 'Premium App',
        type: 'outcome',
        isApp: true,
        scoreLevel: 'high',
      },
      // Mid score - Webinar path
      {
        id: 'f3-webinar',
        label: 'Webinar',
        type: 'decision',
        scoreLevel: 'mid',
        description: 'Education + soft qualification',
        details: ['Choose payment path', 'A: Direct or B: Via Call'],
      },
      // Mid score path A - Direct Payment after Webinar
      {
        id: 'f3-payment-direct',
        label: 'Direct Payment',
        type: 'action',
        isPayment: true,
        scoreLevel: 'mid',
        description: 'Pay directly after webinar',
      },
      {
        id: 'f3-auth-direct',
        label: 'Auth',
        type: 'action',
        scoreLevel: 'mid',
      },
      // Mid score path B - Call after Webinar
      {
        id: 'f3-call-mid',
        label: 'Founder Call',
        type: 'action',
        scoreLevel: 'mid',
        description: 'Call with founder',
      },
      {
        id: 'f3-payment-mid',
        label: 'Payment',
        type: 'action',
        isPayment: true,
        scoreLevel: 'mid',
      },
      {
        id: 'f3-auth-mid',
        label: 'Auth',
        type: 'action',
        scoreLevel: 'mid',
      },
      {
        id: 'f3-app-mid',
        label: 'App',
        type: 'outcome',
        isApp: true,
        scoreLevel: 'mid',
      },
      // Low score path
      {
        id: 'f3-crm-low',
        label: 'CRM Only',
        type: 'crm',
        isCRM: true,
        scoreLevel: 'low',
        description: 'No premium access',
        details: ['Content', 'Insights', 'DUO', 'Waitlist psychology'],
      },
    ],
    connections: [
      { from: 'f3-entry', to: 'f3-web' },
      { from: 'f3-web', to: 'f3-quiz' },
      { from: 'f3-quiz', to: 'f3-call-high', label: 'High Score', scoreLevel: 'high' },
      { from: 'f3-call-high', to: 'f3-payment-high', scoreLevel: 'high' },
      { from: 'f3-payment-high', to: 'f3-auth-high', scoreLevel: 'high' },
      { from: 'f3-auth-high', to: 'f3-app-high', scoreLevel: 'high' },
      { from: 'f3-quiz', to: 'f3-webinar', label: 'Mid Score', scoreLevel: 'mid' },
      // Option A: Direct Payment after Webinar
      { from: 'f3-webinar', to: 'f3-payment-direct', label: 'A: Direct', scoreLevel: 'mid' },
      { from: 'f3-payment-direct', to: 'f3-auth-direct', scoreLevel: 'mid' },
      { from: 'f3-auth-direct', to: 'f3-app-mid', scoreLevel: 'mid' },
      // Option B: Founder Call after Webinar
      { from: 'f3-webinar', to: 'f3-call-mid', label: 'B: Call', scoreLevel: 'mid' },
      { from: 'f3-call-mid', to: 'f3-payment-mid', scoreLevel: 'mid' },
      { from: 'f3-payment-mid', to: 'f3-auth-mid', scoreLevel: 'mid' },
      { from: 'f3-auth-mid', to: 'f3-app-mid', scoreLevel: 'mid' },
      { from: 'f3-quiz', to: 'f3-crm-low', label: 'Low Score', scoreLevel: 'low' },
    ],
  },
  {
    id: 'funnel-4',
    name: 'From App',
    shortName: 'In-App',
    trustLevel: 'cold',
    description: 'Two-phase approach ‚Äî Simple now, Advanced later',
    entryType: 'Existing app user',
    keyRules: [
      'Phase 1: IAP Only (tokens, DUO)',
      'Phase 2: Quiz inside app',
      'Apple-compliant flow',
      'Request access model for qualified users',
    ],
    nodes: [
      {
        id: 'f4-entry',
        label: 'App User',
        type: 'entry',
        description: 'Existing app user',
      },
      // Phase 1
      {
        id: 'f4-iap',
        label: 'IAP',
        type: 'action',
        description: 'In-App Purchase',
        details: ['Tokens', 'DUO', 'No Premium lifetime complexity'],
      },
      {
        id: 'f4-basic',
        label: 'Basic Features',
        type: 'outcome',
        description: 'Phase 1 outcome',
      },
      // Phase 2
      {
        id: 'f4-quiz',
        label: 'Quiz',
        type: 'decision',
        description: 'In-app qualification (Phase 2)',
        details: ['Same logic as Funnel 3', 'Routing happens silently'],
      },
      {
        id: 'f4-request',
        label: 'Request Access',
        type: 'action',
        scoreLevel: 'high',
        description: 'If qualified',
      },
      {
        id: 'f4-call',
        label: 'Call/Webinar',
        type: 'action',
        scoreLevel: 'high',
      },
      {
        id: 'f4-value',
        label: 'Value Paths',
        type: 'outcome',
        scoreLevel: 'low',
        description: 'If not qualified',
        details: ['Content only', 'No premium upsell'],
      },
    ],
    connections: [
      { from: 'f4-entry', to: 'f4-iap', label: 'Phase 1' },
      { from: 'f4-iap', to: 'f4-basic' },
      { from: 'f4-entry', to: 'f4-quiz', label: 'Phase 2' },
      { from: 'f4-quiz', to: 'f4-request', label: 'Qualified', scoreLevel: 'high' },
      { from: 'f4-request', to: 'f4-call', scoreLevel: 'high' },
      { from: 'f4-quiz', to: 'f4-value', label: 'Not Qualified', scoreLevel: 'low' },
    ],
  },
  {
    id: 'funnel-5',
    name: 'Non-South Florida',
    shortName: 'Geo-Restricted',
    trustLevel: 'geo-restricted',
    description: 'Geo-Restricted ‚Äî Not in service area',
    entryType: 'User outside South Florida',
    keyRules: [
      'Clear messaging about location',
      'DUO positioned as interim value',
      'Priority waitlist',
      'Prevents false expectations',
    ],
    nodes: [
      {
        id: 'f5-entry-app',
        label: 'App Entry',
        type: 'entry',
        description: 'In-app detection',
      },
      {
        id: 'f5-entry-web',
        label: 'Web Entry',
        type: 'entry',
        description: 'Web with quiz',
      },
      {
        id: 'f5-thankyou',
        label: 'Thank You',
        type: 'action',
        description: "We're not live in your area yet",
      },
      {
        id: 'f5-quiz',
        label: 'Quiz',
        type: 'decision',
        description: 'Geo check included',
      },
      {
        id: 'f5-geo-fail',
        label: 'Geo Check',
        type: 'decision',
        description: 'Location ‚â† South Florida',
        details: ['Quiz stops early', 'Premium not discussed'],
      },
      {
        id: 'f5-duo',
        label: 'DUO',
        type: 'action',
        description: 'Interim value offering',
      },
      {
        id: 'f5-waitlist',
        label: 'Waitlist',
        type: 'action',
        description: 'Priority list signup',
      },
      {
        id: 'f5-crm',
        label: 'CRM',
        type: 'crm',
        isCRM: true,
        description: 'Tagged for geo',
        details: ['GEO = Non_SF', 'STATUS = Waitlist'],
      },
    ],
    connections: [
      { from: 'f5-entry-app', to: 'f5-thankyou', label: 'In-App Flow' },
      { from: 'f5-thankyou', to: 'f5-duo' },
      { from: 'f5-duo', to: 'f5-waitlist' },
      { from: 'f5-waitlist', to: 'f5-crm' },
      { from: 'f5-entry-web', to: 'f5-quiz', label: 'Web Flow' },
      { from: 'f5-quiz', to: 'f5-geo-fail' },
      { from: 'f5-geo-fail', to: 'f5-thankyou' },
    ],
  },
];
